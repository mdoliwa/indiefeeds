<%= render @post %>

<%= form_with(model: [@post, Comment.new], class: 'mt-6') do |form| %>
  <div class='flex flex-col mb-4 max-w-4xl'>
    <%= form.text_area :body, class: 'border border-gray-300 px-2 py-1', rows: 10 %>
  </div>

  <div>
    <%= form.submit 'Add comment', class: 'bg-blue-100 px-3 py-1 border border-blue-900 hover:bg-blue-200' %>
  </div>
<% end %>

<% if @post.comments.present? %>
  <div class='mt-4'>
    <% @post.comments.roots.each do |comment| %>
      <%= render comment %>
    <% end %>
  </div>
<% end %>
